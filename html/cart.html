<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart - eBay</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body,html{margin:0;padding:0;font-family:Helvetica,Arial,sans-serif;background-color:#f9fafb;color:#333}
        a{text-decoration:none;color:#0654ba}
        a:hover{text-decoration:underline}
        .container{max-width:1200px;margin:0 auto;padding:20px}
        .main-header{background-color:#fff;border-bottom:1px solid #e5e5e5;position:sticky;top:0;z-index:1000}
        .header-container{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;max-width:1400px;margin:0 auto}
        .logo img{height:40px}
        .user-actions{display:flex;align-items:center;gap:25px}
        .user-actions a{color:#333;font-size:22px}
        .cart-container{display:grid;grid-template-columns:2fr 1fr;gap:30px;margin-top:20px}
        .cart-items{background-color:#fff;border:1px solid #e5e5e5;border-radius:8px}
        .cart-header{padding:20px;border-bottom:1px solid #e5e5e5}
        .cart-header h1{font-size:24px;margin:0}
        .cart-item{display:grid;grid-template-columns:120px 1fr auto;gap:20px;padding:20px;border-bottom:1px solid #e5e5e5}
        .cart-item:last-child{border-bottom:none}
        .cart-item-image img{width:100%;height:120px;object-fit:cover;border-radius:4px}
        .cart-item-details h3{font-size:16px;margin:0 0 5px;font-weight:600}
        .cart-item-details p{font-size:14px;color:#555;margin:0 0 10px}
        .cart-item-actions{display:flex;align-items:center;gap:10px}
        .cart-item-actions select{padding:5px;border-radius:4px;border:1px solid #ccc}
        .cart-item-actions button{background:none;border:none;color:#0654ba;cursor:pointer;font-size:14px}
        .cart-item-price{text-align:right}
        .cart-item-price p{font-size:18px;font-weight:600;margin:0}
        .order-summary{background-color:#fff;border:1px solid #e5e5e5;border-radius:8px;padding:20px;height:fit-content}
        .order-summary h2{font-size:20px;margin:0 0 20px;border-bottom:1px solid #e5e5e5;padding-bottom:15px}
        .summary-row{display:flex;justify-content:space-between;margin-bottom:15px;font-size:16px}
        .summary-row.total{font-weight:700;font-size:18px;border-top:1px solid #e5e5e5;padding-top:15px;margin-top:10px}
        .checkout-btn{display:block;width:100%;background-color:#0654ba;color:#fff;border:none;padding:15px;font-size:16px;font-weight:700;border-radius:30px;cursor:pointer;text-align:center}
        .checkout-btn:hover{background-color:#05489f}
        .empty-cart{text-align:center;padding:60px 20px;background-color:#fff;border:1px solid #e5e5e5;border-radius:8px}
        .empty-cart i{font-size:50px;color:#767676;margin-bottom:20px}
        .empty-cart h2{font-size:22px;margin-bottom:10px}
        .empty-cart p{color:#555;margin-bottom:25px}
        .empty-cart a{background-color:#0654ba;color:#fff;padding:12px 25px;border-radius:30px;font-weight:600}
        @media(max-width:992px){.cart-container{grid-template-columns:1fr}}
        @media(max-width:576px){
            .cart-item{grid-template-columns:1fr;text-align:center}
            .cart-item-image{margin:0 auto}
            .cart-item-price{text-align:center;margin-top:10px}
            .cart-item-actions{justify-content:center}
        }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="header-container">
            <a href="l c="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/EBay_logo.svg/1280px-EBay_logo.svg.png" alt="eBay Logo">
            </a>
            <nav class="user-actions">
                <a href="#" aria-label="Notifications"><i class="fas fa-bell"></i></a>
                <a href="./cart.html" aria-label="Your shopping cart"><i class="fas fa-shopping-cart"></i></a>
            </nav>
        </div>
    </header>

    <main class="container">
        <div id="cart-view">
            <div class="cart-container">
                <div class="cart-items">
                    <div class="cart-header">
                        <h1>Shopping Cart</h1>
                    </div>
                    <div id="cart-items-list">
                        <!-- Cart items will be injected here by JavaScript -->
                    </div>
                </div>
                <div class="order-summary">
                    <h2>Order Summary</h2>
                    <div class="summary-row">
                        <span>Subtotal (<span id="item-count">0</span> items)</span>
                        <span id="subtotal-price">$0.00</span>
                    </div>
                    <div class="summary-row">
                        <span>Shipping</span>
                        <span id="shipping-price">$0.00</span>
                    </div>
                    <div class="summary-row total">
                        <span>Total</span>
                        <span id="total-price">$0.00</span>
                    </div>
                    <a href="#" class="checkout-btn">Go to checkout</a>
                </div>
            </div>
        </div>

        <div id="empty-cart-view" style="display: none;">
            <div class="empty-cart">
                <i class="fas fa-shopping-cart"></i>
                <h2>Your cart is empty</h2>
                <p>Looks like you haven't added anything to your cart yet.</p>
                <a href="./dailydeals.html">Shop Daily Deals</a>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cartItemsList = document.getElementById('cart-items-list');
            const cartView = document.getElementById('cart-view');
            const emptyCartView = document.getElementById('empty-cart-view');
            const itemCountEl = document.getElementById('item-count');
            const subtotalPriceEl = document.getElementById('subtotal-price');
            const shippingPriceEl = document.getElementById('shipping-price');
            const totalPriceEl = document.getElementById('total-price');

            const SHIPPING_COST_PER_ITEM = 5.50;

            function getCart() {
                return JSON.parse(localStorage.getItem('cart')) || [];
            }

            function saveCart(cart) {
                localStorage.setItem('cart', JSON.stringify(cart));
                renderCart();
            }

            function renderCart() {
                const cart = getCart();
                cartItemsList.innerHTML = '';

                if (cart.length === 0) {
                    cartView.style.display = 'none';
                    emptyCartView.style.display = 'block';
                    return;
                }

                cartView.style.display = 'block';
                emptyCartView.style.display = 'none';

                let subtotal = 0;
                let totalItems = 0;

                cart.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.className = 'cart-item';
                    
                    const itemPrice = parseFloat(item.price.replace('$', '')) * item.quantity;
                    subtotal += itemPrice;
                    totalItems += item.quantity;

                    itemElement.innerHTML = `
                        <div class="cart-itemalt="${item.title}">
                        </div>
                        <div class="cart-item-details">
                            <h3>${item.title}</h3>
                            <p>Item ID: ${item.id}</p>
                            <div class="cart-item-actions">
                                <label for="quantity-${item.id}">Qty:</label>
                                <select id="quantity-${item.id}" data-id="${item.id}" class="quantity-select">
                                    ${[...Array(10).keys()].map(i => `<option value="${i + 1}" ${item.quantity === i + 1 ? 'selected' : ''}>${i + 1}</option>`).join('')}
                                </select>
                                <button class="remove-btn" data-id="${item.id}">Remove</button>
                            </div>
                        </div>
                        <div class="cart-item-price">
                            <p>$${itemPrice.toFixed(2)}</p>
                        </div>
                    `;
                    cartItemsList.appendChild(itemElement);
                });

                const shippingCost = cart.length > 0 ? SHIPPING_COST_PER_ITEM * cart.length : 0;
                const total = subtotal + shippingCost;

                itemCountEl.textContent = totalItems;
                subtotalPriceEl.textContent = `$${subtotal.toFixed(2)}`;
                shippingPriceEl.textContent = `$${shippingCost.toFixed(2)}`;
                totalPriceEl.textContent = `$${total.toFixed(2)}`;

                // Add event listeners for remove and quantity change
                document.querySelectorAll('.remove-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const itemId = e.target.dataset.id;
                        let currentCart = getCart();
                        currentCart = currentCart.filter(item => item.id !== itemId);
                        saveCart(currentCart);
                    });
                });

                document.querySelectorAll('.quantity-select').forEach(select => {
                    select.addEventListener('change', (e) => {
                        const itemId = e.target.dataset.id;
                        const newQuantity = parseInt(e.target.value, 10);
                        let currentCart = getCart();
                        const itemIndex = currentCart.findIndex(item => item.id === itemId);
                        if (itemIndex > -1) {
                            currentCart[itemIndex].quantity = newQuantity;
                        }
                        saveCart(currentCart);
                    });
                });
            }

            renderCart();
        });
    </script>

</body>
</html>